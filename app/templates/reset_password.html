{% extends "base.html" %}

{% block title %}Reset Password Â· Research Productivity Tool{% endblock %}

{% block head %}
<style>
  .auth-wrapper { min-height: calc(100vh - 120px); display: grid; place-items: center; padding: 32px 16px; }
  .auth-card { width: 100%; max-width: 460px; background: #fff; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,.12); padding: 28px; }
  .auth-title { font-size: 1.6em; font-weight: 700; margin: 4px 0 18px 0; text-align: center; }
  .auth-subtitle { text-align: center; color: #666; font-size: .95em; margin-bottom: 18px; }
  .form-row { margin-bottom: 14px; }
  .label { display: block; margin-bottom: 6px; font-weight: 600; }
  .input { width: 100%; border: 1px solid #cfcfcf; border-radius: 8px; padding: 12px; font-size: 1em; outline: none; background: #fafafa; }
  .input:focus { border-color: #1976d2; background: #fff; }
  .btn-primary { width: 100%; background: #1976d2; color: #fff; border: 0; border-radius: 8px; padding: 12px; font-size: 1.05em; font-weight: 700; cursor: pointer; transition: background .15s; margin-top: 8px; }
  .btn-primary:hover { background: #0d47a1; }
  .auth-footer { margin-top: 16px; text-align: center; font-size: .95em; color: #666; }
  .auth-footer a { color: #1976d2; text-decoration: none; }
  .auth-footer a:hover { text-decoration: underline; }
  .error { background: #ffe9e9; color: #b00020; border: 1px solid #ffb3b3; border-radius: 8px; padding: 10px 12px; margin-bottom: 14px; }
  .success { background: #e7f7ee; color: #0f7a36; border: 1px solid #bfe9d0; border-radius: 8px; padding: 10px 12px; margin-bottom: 14px; }
</style>
{% endblock %}

{% block content %}
<div class="auth-wrapper">
  <div class="auth-card">

    <div class="auth-title">Reset Password</div>
    <div class="auth-subtitle">Enter your email to receive reset instructions</div>

    {% if error %}<div class="error">{{ error }}</div>{% endif %}
    {% if message %}<div class="success">{{ message }}</div>{% endif %}

    <!-- Posts to FastAPI endpoint: reset_password_post -->
    <form method="post" action="{{ url_for('reset_password_post') }}">
      <div class="form-row">
        <label class="label" for="email">Email</label>
        <input class="input" type="email" id="email" name="email" placeholder="you@university.edu.au" required>
      </div>

      <button class="btn-primary" type="submit">Send Reset Link</button>
    </form>

    <div class="auth-footer">
      <a href="{{ url_for('login_get') }}">Back to Login</a>
    </div>
  </div>
</div>
{% endblock %}
